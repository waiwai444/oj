Since the total number of different configurations is limited and not very large, we can just use BFS to find the minimum solution.

1.470s in uva 12569
